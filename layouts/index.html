{{ define "main" }}
<div class="container posts-list">
    {{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
    {{ $paginator := .Paginate ($pages.ByDate.Reverse) }}
    {{ range $paginator.Pages }}
        <a href="{{ .Permalink }}" class="post-card">
            {{ if .Params.image }}
                <div class="post-card-image">
                    <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}">
                </div>
            {{ end }}

            <div class="post-card-content">

            <h3 class="post-title">{{ .Title }}</h3>

            <div class="post-meta">
                <time datetime="{{ .Date.Format "2006-01-02" }}">
                    {{ .Date.Format "January 2, 2006" }}
                </time>
                {{ if .Params.tags }}
                    <div class="post-tags">
                        {{ range .Params.tags }}
                            <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                {{ end }}
            </div>

            {{ if .Description }}
                <p class="post-description">{{ .Description }}</p>
            {{ else if .Summary }}
                <p class="post-description">{{ .Summary }}</p>
            {{ end }}

            <span class="read-more">Read more â†’</span>
            </div>
        </a>
    {{ end }}

    {{ partial "pagination.html" $paginator }}
</div>
{{ end }}
